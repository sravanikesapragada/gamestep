
You said:
<!DOCTYPE html>
<html>
<head>
  <title>Stepper Race Game - Long Track</title>
  <style>
    body {
      text-align: center;
      font-family: 'Arial', sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      margin: 0;
      padding: 20px;
      min-height: 100vh;
    }
    
    .game-container {
      max-width: 900px;
      margin: 0 auto;
      background: rgba(0, 0, 0, 0.8);
      padding: 20px;
      border-radius: 15px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.5);
    }
    
    canvas {
      background: linear-gradient(to bottom, #1e5799, #2989d8);
      display: block;
      margin: 20px auto;
      border: 4px solid #000;
      border-radius: 10px;
    }
    
    #menu, #playerNames {
      margin: 20px;
      padding: 30px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 15px;
      backdrop-filter: blur(10px);
    }
    
    button {
      padding: 15px 25px;
      margin: 10px;
      font-size: 18px;
      cursor: pointer;
      background: linear-gradient(45deg, #3498db, #2980b9);
      color: white;
      border: none;
      border-radius: 8px;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(0,0,0,0.2);
    }
    
    button:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(0,0,0,0.3);
    }
    
    input {
      padding: 12px;
      margin: 8px;
      font-size: 16px;
      border-radius: 8px;
      border: 2px solid #3498db;
      background: rgba(255,255,255,0.9);
      width: 200px;
    }
    
    #gameControls {
      margin: 20px;
      padding: 20px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 15px;
    }
    
    .player-btn {
      font-size: 20px;
      font-weight: bold;
      min-width: 140px;
      margin: 8px;
      padding: 12px 20px;
    }
    
    .p1 { background: linear-gradient(45deg, #e74c3c, #c0392b); }
    .p2 { background: linear-gradient(45deg, #3498db, #2980b9); }
    .p3 { background: linear-gradient(45deg, #2ecc71, #27ae60); }
    .p4 { background: linear-gradient(45deg, #f39c12, #d35400); }
    
    .player-btn:hover {
      transform: scale(1.05);
    }
    
    /* Animations */
    @keyframes moveUp {
      0% { transform: translateY(0px) scale(1); }
      50% { transform: translateY(-8px) scale(1.1); }
      100% { transform: translateY(0px) scale(1); }
    }
    
    @keyframes bounce {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.2); }
    }
    
    .moving {
      animation: moveUp 0.4s ease-in-out;
    }
    
    .bounce {
      animation: bounce 0.3s ease-in-out;
    }
    
    /* Progress bars */
    .progress-container {
      width: 80%;
      margin: 10px auto;
      background: rgba(255,255,255,0.2);
      border-radius: 10px;
      height: 20px;
      overflow: hidden;
    }
    
    .progress-bar {
      height: 100%;
      border-radius: 10px;
      transition: width 0.3s ease;
    }
    
    /* Confetti */
    .confetti {
      position: fixed;
      width: 10px;
      height: 10px;
      pointer-events: none;
    }
    
    @keyframes confetti-fall {
      0% { transform: translateY(-100px) rotate(0deg); opacity: 1; }
      100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
    }
    
    h1 {
      font-size: 3em;
      margin-bottom: 20px;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
      background: linear-gradient(45deg, #ff6b6b, #feca57, #48dbfb, #ff9ff3);
      -webkit-background-clip: text;
      background-clip: text;
      -webkit-text-fill-color: transparent;
    }
  </style>
</head>
<body>
  <div class="game-container">
    <h1>🏁 Stepper Race Game 🏁</h1>
    
    <div id="menu">
      <h2>🎮 Select Number of Players</h2>
      <button onclick="showPlayerNames(1)">1 Player</button>
      <button onclick="showPlayerNames(2)">2 Players</button>
      <button onclick="showPlayerNames(3)">3 Players</button>
      <button onclick="showPlayerNames(4)">4 Players</button>
    </div>
    
    <div id="playerNames" style="display: none;">
      <h2>👤 Enter Player Names</h2>
      <div id="nameInputs"></div>
      <button onclick="startGame()">🚀 Start Race!</button>
    </div>
    
    <!-- Progress Bars -->
    <div id="progressBars" style="display: none;">
      <h3>Race Progress</h3>
      <div id="progressContainer"></div>
    </div>
    
    <!-- Game Canvas - Made taller for longer track -->
    <canvas id="gameCanvas" width="500" height="800"></canvas>
    
    <div id="gameControls" style="display: none;">
      <h3>🎯 Step Controls</h3>
      <button class="player-btn p1" onclick="movePlayer(1)">Player 1 🚗</button>
      <button class="player-btn p2" onclick="movePlayer(2)">Player 2 🚙</button>
      <button class="player-btn p3" onclick="movePlayer(3)">Player 3 🏎️</button>
      <button class="player-btn p4" onclick="movePlayer(4)">Player 4 🚕</button>
      <br><br>
      <small>🎹 Keyboard: Press 1, 2, 3, 4 keys</small>
      <br>
      <small>📏 Distance to finish: <span id="distance">0</span> steps</small>
    </div>
  </div>

  <script>
    let players = [];
    let totalPlayers = 1;
    let gameRunning = false;
    let playerNames = [];
    const canvas = document.getElementById("gameCanvas");
    const ctx = canvas.getContext("2d");

    // Game settings for longer track
    const TRACK_LENGTH = 700; // Increased from 550 to make it longer
    const STEP_SIZE = 25; // Smaller steps to make game longer
    const FINISH_LINE = 50;

    const carEmojis = ["🚗", "🚙", "🏎️", "🚕"];
    const colors = ["#e74c3c", "#3498db", "#2ecc71", "#f39c12"];
    const colorNames = ["Red", "Blue", "Green", "Yellow"];

    function showPlayerNames(numPlayers) {
      totalPlayers = numPlayers;
      document.getElementById("menu").style.display = "none";
      
      const nameInputs = document.getElementById("nameInputs");
      nameInputs.innerHTML = "";
      
      for (let i = 0; i < numPlayers; i++) {
        const input = document.createElement("input");
        input.type = "text";
        input.placeholder = `${colorNames[i]} Player Name`;
        input.id = `player${i+1}Name`;
        input.value = `${colorNames[i]} Racer`;
        nameInputs.appendChild(input);
        nameInputs.appendChild(document.createElement("br"));
      }
      
      document.getElementById("playerNames").style.display = "block";
    }

    function startGame() {
      // Get player names
      playerNames = [];
      for (let i = 0; i < totalPlayers; i++) {
        const name = document.getElementById(`player${i+1}Name`).value || `${colorNames[i]} Racer`;
        playerNames.push(name);
      }
      
      // Initialize players at the bottom
      players = [];
      let laneWidth = canvas.width / totalPlayers;
      for (let i = 0; i < totalPlayers; i++) {
        players.push({
          x: laneWidth * i + laneWidth / 2 - 20,
          y: canvas.height - 60, // Start position
          color: colors[i],
          car: carEmojis[i],
          lane: i,
          name: playerNames[i],
          moving: false,
          progress: 0
        });
      }

      gameRunning = true;
      document.getElementById("playerNames").style.display = "none";
      document.getElementById("gameControls").style.display = "block";
      document.getElementById("progressBars").style.display = "block";
      
      // Create progress bars
      createProgressBars();
      
      // Update distance display
      updateDistance();

      requestAnimationFrame(draw);
    }

    function createProgressBars() {
      const container = document.getElementById("progressContainer");
      container.innerHTML = "";
      
      players.forEach((player, index) => {
        const progressDiv = document.createElement("div");
        progressDiv.className = "progress-container";
        
        const bar = document.createElement("div");
        bar.className = "progress-bar";
        bar.id = `progress${index + 1}`;
        bar.style.background = `linear-gradient(45deg, ${colors[index]}, ${colors[index]}99)`;
        bar.style.width = "0%";
        
        const label = document.createElement("div");
        label.style.margin = "5px 0";
        label.innerHTML = `<strong>${player.name}</strong>: <span id="progressText${index + 1}">0%</span>`;
        
        progressDiv.appendChild(bar);
        container.appendChild(label);
        container.appendChild(progressDiv);
      });
    }

    function updateProgress() {
      players.forEach((player, index) => {
        const progress = ((canvas.height - 60 - player.y) / TRACK_LENGTH) * 100;
        player.progress = Math.min(100, Math.max(0, progress));
        
        const bar = document.getElementById(`progress${index + 1}`);
        const text = document.getElementById(`progressText${index + 1}`);
        
        if (bar && text) {
          bar.style.width = `${player.progress}%`;
          text.textContent = `${Math.round(player.progress)}%`;
        }
      });
    }

    function updateDistance() {
      if (players.length > 0) {
        const distance = Math.ceil((players[0].y - FINISH_LINE) / STEP_SIZE);
        document.getElementById("distance").textContent = distance;
      }
    }

    function movePlayer(p) {
      if (p <= players.length && p > 0 && gameRunning) {
        // Add movement animation
        players[p - 1].moving = true;
        setTimeout(() => {
          players[p - 1].moving = false;
        }, 400);
        
        // Move player
        players[p - 1].y -= STEP_SIZE;
        
        // Update progress and check win
        updateProgress();
        updateDistance();
        checkWin(p);
        
        // Button animation
        const button = document.querySelector(`.player-btn.p${p}`);
        button.classList.add('bounce');
        setTimeout(() => {
          button.classList.remove('bounce');
        }, 300);
      }
    }

    function checkWin(p) {
      if (players[p - 1].y <= FINISH_LINE) {
        gameRunning = false;
        const winnerName = playerNames[p - 1];
        
        // Create celebration
        createConfetti();
        
        setTimeout(() => {
          // Fancy win message
          const winDiv = document.createElement("div");
          winDiv.style.cssText = `
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: linear-gradient(45deg, ${colors[p-1]}, ${colors[p-1]}99);
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            z-index: 1000;
            box-shadow: 0 0 50px rgba(255,255,255,0.5);
            border: 5px solid gold;
          `;
          winDiv.innerHTML = `
            <h1 style="font-size: 3em; margin: 0;">🎉 VICTORY! 🎉</h1>
            <h2 style="font-size: 2em; margin: 20px 0;">${winnerName} Wins!</h2>
            <p>🏁 First to cross the finish line! 🏁</p>
            <button onclick="location.reload()" style="
              padding: 15px 30px;
              font-size: 1.5em;
              background: gold;
              border: none;
              border-radius: 10px;
              cursor: pointer;
              margin-top: 20px;
            ">Play Again 🔄</button>
          `;
          document.body.appendChild(winDiv);
        }, 1500);
      }
    }

    function drawTrack() {
      // Sky with gradient
      const gradient = ctx.createLinearGradient(0, 0, 0, canvas.height);
      gradient.addColorStop(0, "#1e5799");
      gradient.addColorStop(1, "#2989d8");
      ctx.fillStyle = gradient;
      ctx.fillRect(0, 0, canvas.width, canvas.height);

      // Draw clouds
      ctx.fillStyle = "rgba(255,255,255,0.8)";
      drawCloud(100, 80, 30);
      drawCloud(300, 120, 25);
      drawCloud(400, 180, 35);
      drawCloud(200, 250, 28);
      drawCloud(350, 350, 32);

      // Road
      ctx.fillStyle = "#2c3e50";
      ctx.fillRect(60, 0, canvas.width - 120, canvas.height);

      // Road markings - center line
      ctx.strokeStyle = "yellow";
      ctx.lineWidth = 3;
      ctx.setLineDash([20, 20]);
      ctx.beginPath();
      ctx.moveTo(canvas.width / 2, 0);
      ctx.lineTo(canvas.width / 2, canvas.height);
      ctx.stroke();
      ctx.setLineDash([]);

      // Lane dividers
      let laneWidth = (canvas.width - 120) / totalPlayers;
      ctx.strokeStyle = "white";
      ctx.lineWidth = 2;
      for (let i = 1; i < totalPlayers; i++) {
        let x = 60 + laneWidth * i;
        ctx.setLineDash([15, 25]);
        ctx.beginPath();
        ctx.moveTo(x, 0);
        ctx.lineTo(x, canvas.height);
        ctx.stroke();
      }
      ctx.setLineDash([]);

      // Finish line - checkered flag
      ctx.fillStyle = "white";
      ctx.fillRect(60, FINISH_LINE, canvas.width - 120, 15);
      
      // Checkered pattern
      ctx.fillStyle = "black";
      const checkSize = 20;
      for (let i = 0; i < Math.floor((canvas.width - 120) / checkSize); i++) {
        for (let j = 0; j < 2; j++) {
          if ((i + j) % 2 === 0) {
            ctx.fillRect(60 + i * checkSize, FINISH_LINE + j * checkSize/2, checkSize, checkSize/2);
          }
        }
      }
      
      // Start line
      ctx.fillStyle = "white";
      ctx.fillRect(60, canvas.height - 60, canvas.width - 120, 5);
      
      // Distance markers every 100 pixels
      ctx.fillStyle = "white";
      ctx.font = "12px Arial";
      ctx.textAlign = "right";
      for (let y = canvas.height - 100; y > FINISH_LINE; y -= 100) {
        ctx.fillText(`${Math.round((canvas.height - 60 - y) / STEP_SIZE)}`, 50, y);
        ctx.fillRect(55, y, 5, 2);
      }
    }
    
    function drawCloud(x, y, size) {
      ctx.beginPath();
      ctx.arc(x, y, size, 0, Math.PI * 2);
      ctx.arc(x + size * 0.8, y - size * 0.2, size * 0.8, 0, Math.PI * 2);
      ctx.arc(x + size * 1.5, y, size * 0.7, 0, Math.PI * 2);
      ctx.arc(x + size * 0.8, y + size * 0.2, size * 0.8, 0, Math.PI * 2);
      ctx.fill();
    }

    function draw() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      drawTrack();

      // Draw players
      players.forEach((p, i) => {
        // Draw car with shadow effect when moving
        if (p.moving) {
          ctx.shadowColor = p.color;
          ctx.shadowBlur = 15;
        }
        
        ctx.font = "35px Arial";
        ctx.textAlign = "center";
        ctx.fillText(p.car, p.x + 25, p.y + 35);
        
        // Reset shadow
        ctx.shadowColor = 'transparent';
        ctx.shadowBlur = 0;
        
        // Draw player name
        ctx.fillStyle = "white";
        ctx.font = "bold 14px Arial";
        ctx.fillText(p.name, p.x + 25, p.y - 10);
        
        // Draw speed effect when moving
        if (p.moving) {
          ctx.strokeStyle = p.color;
          ctx.lineWidth = 2;
          ctx.setLineDash([5, 5]);
          ctx.strokeRect(p.x, p.y, 50, 50);
          ctx.setLineDash([]);
        }
      });

      if (gameRunning) requestAnimationFrame(draw);
    }
    
    function createConfetti() {
      const colors = ['#e74c3c', '#3498db', '#2ecc71', '#f39c12', '#9b59b6', '#1abc9c'];
      
      for (let i = 0; i < 150; i++) {
        setTimeout(() => {
          const confetti = document.createElement('div');
          confetti.className = 'confetti';
          confetti.style.left = Math.random() * 100 + 'vw';
          confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
          confetti.style.animation = `confetti-fall ${Math.random() * 3 + 2}s linear forwards`;
          document.body.appendChild(confetti);
          
          setTimeout(() => confetti.remove(), 5000);
        }, i * 30);
      }
    }

    // Keyboard controls
    document.addEventListener("keydown", (e) => {
      if (!gameRunning) return;
      if (e.key === "1") movePlayer(1);
      if (e.key === "2") movePlayer(2);
      if (e.key === "3") movePlayer(3);
      if (e.key === "4") movePlayer(4);
    });

    // Add confetti style if not exists
    if (!document.querySelector('#confetti-style')) {
      const style = document.createElement('style');
      style.id = 'confetti-style';
      style.textContent = `
        @keyframes confetti-fall {
          0% { transform: translateY(-100px) rotate(0deg); opacity: 1; }
          100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
        }
      `;
      document.head.appendChild(style);
    }
  </script>
</body>
</html>
